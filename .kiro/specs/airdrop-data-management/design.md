# ç©ºæŠ•æ•°æ®ç®¡ç†åŠŸèƒ½ - è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬è®¾è®¡æ–‡æ¡£æè¿°äº†åŸºäºPrisma Studioçš„ç©ºæŠ•æ•°æ®ç®¡ç†ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„å’Œå®ç°æ–¹æ¡ˆã€‚ç³»ç»Ÿé‡‡ç”¨æ•°æ®åº“ä¼˜å…ˆçš„è®¾è®¡ç†å¿µï¼Œé€šè¿‡Prisma Studioè¿›è¡Œæ•°æ®ç®¡ç†ï¼Œå‰ç«¯æä¾›åªè¯»å±•ç¤ºç•Œé¢ï¼Œå¹¶é…å¤‡ç»Ÿä¸€çš„æ•°æ®å¯¼å…¥/å¯¼å‡ºè„šæœ¬ã€‚

## æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    A[å‰ç«¯å±•ç¤ºå±‚] --> B[APIæ¥å£å±‚]
    B --> C[æ•°æ®è®¿é—®å±‚]
    C --> D[æ•°æ®åº“å±‚]
    E[æ•°æ®ç®¡ç†å±‚] --> C
    F[Prisma Studio] --> C
    
    A1[ç©ºæŠ•å†å²ç»„ä»¶] --> A
    A2[å½“å‰ç©ºæŠ•ç»„ä»¶] --> A
    A3[å†å²è¡¨æ ¼ç»„ä»¶] --> A
    A4[å†å²å›¾è¡¨ç»„ä»¶] --> A
    
    B1[åªè¯»APIè·¯ç”±] --> B
    
    C1[Prisma ORM] --> C
    
    D1[PostgreSQLæ•°æ®åº“] --> D
    
    E1[æ•°æ®å¯¼å…¥è„šæœ¬] --> E
    E2[æ•°æ®å¯¼å‡ºè„šæœ¬] --> E
    E3[å¤‡ä»½ç®¡ç†è„šæœ¬] --> E
    
    F1[å›¾å½¢åŒ–æ•°æ®ç®¡ç†] --> F
```

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 + React 18
- **UIç»„ä»¶åº“**: Radix UI + Tailwind CSS
- **æ•°æ®å¯è§†åŒ–**: Recharts
- **æ•°æ®åº“**: PostgreSQL (Supabase)
- **ORM**: Prisma
- **æ•°æ®ç®¡ç†**: Prisma Studio
- **ç±»å‹å®‰å…¨**: TypeScript
- **è„šæœ¬å·¥å…·**: Node.js + TypeScript

## ç»„ä»¶è®¾è®¡

### 1. æ ¸å¿ƒç»„ä»¶ç»“æ„

```
components/airdrop/
â”œâ”€â”€ airdrop-history.tsx             # ä¸»å®¹å™¨ç»„ä»¶
â”œâ”€â”€ current-airdrops.tsx           # å½“å‰ç©ºæŠ•å±•ç¤ºç»„ä»¶
â”œâ”€â”€ history-table.tsx              # å†å²æ•°æ®è¡¨æ ¼ç»„ä»¶
â””â”€â”€ history-chart.tsx              # å†å²æ•°æ®å›¾è¡¨ç»„ä»¶
```

### 2. AirdropHistory ç»„ä»¶

**èŒè´£**: ä½œä¸ºä¸»å®¹å™¨ç»„ä»¶ï¼Œåè°ƒæ•°æ®åŠ è½½å’Œè§†å›¾åˆ‡æ¢

```typescript
interface AirdropHistoryProps {
  // æ— éœ€propsï¼Œç›´æ¥ä»APIåŠ è½½æ•°æ®
}

interface AirdropHistoryState {
  activeView: "chart" | "table"
  allData: AirdropItem[]
  loading: boolean
  error: string | null
}
```

**ä¸»è¦åŠŸèƒ½**:
- ä»APIåŠ è½½ç©ºæŠ•æ•°æ®
- åˆ†ç¦»å½“å‰ç©ºæŠ•å’Œå†å²æ•°æ®
- ç®¡ç†è§†å›¾åˆ‡æ¢çŠ¶æ€
- è®¡ç®—å†å²æ•°æ®çš„æ”¶ç›Šä¿¡æ¯

### 3. CurrentAirdrops ç»„ä»¶

**èŒè´£**: å±•ç¤ºå½“å‰è¿›è¡Œä¸­çš„ç©ºæŠ•ä¿¡æ¯å’Œå®æ—¶å€’è®¡æ—¶

```typescript
interface CurrentAirdropsProps {
  currentAirdrops: CurrentAirdropItem[]
}

interface AirdropStatusInfo {
  status: string
  color: "gray" | "red" | "blue" | "orange"
  progress: number
  phase: "waiting" | "phase1" | "phase2" | "single" | "ended"
  currentPhase: string | null
  points: number
}
```

**ä¸»è¦åŠŸèƒ½**:
- å®æ—¶å€’è®¡æ—¶è®¡ç®—
- ä¸¤é˜¶æ®µç©ºæŠ•è¿›åº¦å±•ç¤º
- çŠ¶æ€é¢œè‰²å’Œè¿›åº¦æ¡ç®¡ç†
- å“åº”å¼å¸ƒå±€é€‚é…

### 4. HistoryTable ç»„ä»¶

**èŒè´£**: ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºå†å²ç©ºæŠ•æ•°æ®

```typescript
interface HistoryTableProps {
  airdropHistoryData: AirdropHistoryItem[]
}
```

**ä¸»è¦åŠŸèƒ½**:
- è¡¨æ ¼æ•°æ®å±•ç¤º
- ä¸¤é˜¶æ®µç§¯åˆ†é—¨æ§›æ˜¾ç¤º
- å…è´¹é¢†å–æ ‡è¯†
- æ”¶ç›Šè®¡ç®—å±•ç¤º

### 5. HistoryChart ç»„ä»¶

**èŒè´£**: ä»¥å›¾è¡¨å½¢å¼å±•ç¤ºå†å²è¶‹åŠ¿

```typescript
interface HistoryChartProps {
  airdropHistoryData: AirdropHistoryItem[]
  averagePoints: number
  averageRevenue: string
}
```

**ä¸»è¦åŠŸèƒ½**:
- ç§¯åˆ†é—¨æ§›è¶‹åŠ¿å›¾
- æ”¶ç›Šè¶‹åŠ¿å›¾
- å¹³å‡çº¿æ˜¾ç¤º
- æ•°æ®ç‚¹äº¤äº’

## æ•°æ®æ¨¡å‹è®¾è®¡

### æ•°æ®åº“æ¨¡å‹ (å·²å­˜åœ¨)

```prisma
model Airdrop {
  id                  Int      @id @default(autoincrement())
  date                String
  token               String   @unique // æ·»åŠ å”¯ä¸€çº¦æŸ
  points              Int
  participants        Int?
  amount              Float
  supplementaryToken  Float
  currentPrice        String?
  type                AirdropType
  cost                Float?
  pointsConsumed      Boolean  @default(true)
  
  startTime           String?
  endTime             String?
  
  phase1Points        Int?
  phase2Points        Int?
  phase1EndTime       String?
  phase2EndTime       String?
  
  description         String?
  
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
  
  @@map("airdrops")
}
```

### TypeScript ç±»å‹å®šä¹‰

```typescript
// æ‰©å±•ç°æœ‰çš„ AirdropItem ç±»å‹
export interface AirdropFormData extends Omit<AirdropItem, 'id' | 'createdAt' | 'updatedAt'> {
  // è¡¨å•ç‰¹å®šçš„å­—æ®µ
}

export interface AirdropEditState {
  mode: 'create' | 'edit'
  isTokenChecking: boolean
  existingData: AirdropItem | null
}

export interface AirdropValidationError {
  field: string
  message: string
}
```

## API è®¾è®¡

### 1. åªè¯»ç©ºæŠ•æ•°æ®API

```typescript
// GET /api/airdrop
export interface GetAirdropsResponse {
  success: boolean
  data: AirdropItem[]
  error?: string
}
```

### 2. API è·¯ç”±å®ç°

```typescript
// app/api/airdrop/route.ts
export async function GET(request: NextRequest) {
  try {
    // è·å–æ‰€æœ‰ç©ºæŠ•æ•°æ®
    const airdrops = await prisma.airdrop.findMany({
      orderBy: {
        createdAt: 'desc'
      }
    })

    return NextResponse.json({
      success: true,
      data: airdrops
    })
  } catch (error) {
    console.error('è·å–ç©ºæŠ•æ•°æ®å¤±è´¥:', error)
    return NextResponse.json(
      {
        success: false,
        error: 'è·å–ç©ºæŠ•æ•°æ®å¤±è´¥'
      },
      { status: 500 }
    )
  } finally {
    await prisma.$disconnect()
  }
}
```

### 3. æ•°æ®ç®¡ç†è„šæœ¬API

ç³»ç»Ÿé€šè¿‡å‘½ä»¤è¡Œè„šæœ¬è¿›è¡Œæ•°æ®ç®¡ç†ï¼Œè€ŒéWeb APIï¼š

```typescript
// scripts/data-manager.ts
// æ”¯æŒçš„å‘½ä»¤ï¼š
// - pnpm db:import       # ä»æœ€æ–°å¤‡ä»½æ–‡ä»¶å¯¼å…¥æ•°æ®åˆ°æ•°æ®åº“
// - pnpm db:export       # ä»æ•°æ®åº“å¯¼å‡ºæ•°æ®åˆ°å¤‡ä»½æ–‡ä»¶  
// - pnpm db:list-backups # åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å¤‡ä»½æ–‡ä»¶
```

## çŠ¶æ€ç®¡ç†è®¾è®¡

### React å†…ç½®çŠ¶æ€ç®¡ç†

ç³»ç»Ÿä½¿ç”¨Reactçš„å†…ç½®çŠ¶æ€ç®¡ç†ï¼ˆuseState, useEffect, useMemoï¼‰æ¥ç®¡ç†ç»„ä»¶çŠ¶æ€ï¼š

```typescript
// AirdropHistory ç»„ä»¶çŠ¶æ€
interface AirdropHistoryState {
  activeView: "chart" | "table"
  allData: AirdropItem[]
  loading: boolean
  error: string | null
}

// CurrentAirdrops ç»„ä»¶çŠ¶æ€
interface CurrentAirdropsState {
  countdowns: { [key: string]: AirdropStatusInfo }
}

// æ•°æ®åŠ è½½å’Œå¤„ç†é€»è¾‘
const loadAirdropData = useCallback(async () => {
  try {
    setLoading(true)
    setError(null)
    const response = await fetch('/api/airdrop')
    const result = await response.json()
    if (result.success && result.data) {
      setAllData(result.data)
    } else {
      setError(result.error || 'åŠ è½½ç©ºæŠ•æ•°æ®å¤±è´¥')
    }
  } catch (err) {
    setError('ç½‘ç»œé”™è¯¯ï¼Œæ— æ³•åŠ è½½ç©ºæŠ•æ•°æ®')
  } finally {
    setLoading(false)
  }
}, [])
```

## ç”¨æˆ·ç•Œé¢è®¾è®¡

### 1. ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç©ºæŠ•é¢†å–æé†’ (å½“å‰ç©ºæŠ•å¡ç‰‡)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOKEN | Alpha | ä¼˜å…ˆè·å–é˜¶æ®µ | å€’è®¡æ—¶: 2å¤©3å°æ—¶          â”‚
â”‚ ç§¯åˆ†é—¨æ§›: 200/400åˆ† | æ•°é‡: 24000 | è¿›åº¦æ¡: â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç©ºæŠ•å†å²æ•°æ®                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“Š æ•°æ®è¡¨æ ¼] [ğŸ“ˆ å†å²æ›²çº¿]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¥æœŸ      â”‚ ä»£å¸  â”‚ ç§¯åˆ†é—¨æ§›â”‚ æ•°é‡  â”‚ ä»·æ ¼   â”‚ æ”¶ç›Š  â”‚ç±»å‹â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025å¹´08æœˆâ”‚ MM   â”‚ 200åˆ†   â”‚ 24000 â”‚ $0.001 â”‚ $24.0 â”‚Alphaâ”‚
â”‚ 2025å¹´08æœˆâ”‚ AIO  â”‚ 200åˆ†   â”‚ 750   â”‚ $0.045 â”‚ $33.8 â”‚Alphaâ”‚
â”‚ ...       â”‚ ...  â”‚ ...     â”‚ ...   â”‚ ...    â”‚ ...   â”‚... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å½“å‰ç©ºæŠ•å¡ç‰‡è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ• ç©ºæŠ•é¢†å–æé†’                           [å®æ—¶å€’è®¡æ—¶]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOKEN (ALPHA) [ä¼˜å…ˆè·å–é˜¶æ®µ]                             â”‚
â”‚ ğŸ å…è´¹é¢†å– (å¦‚æœé€‚ç”¨)                                   â”‚
â”‚                                                         â”‚
â”‚ ç©ºæŠ•æ•°é‡: 24,000 æš                                     â”‚
â”‚ ä¼˜å…ˆè·å–ç§¯åˆ†é—¨æ§›: 200åˆ†                                  â”‚
â”‚ å…ˆåˆ°å…ˆå¾—ç§¯åˆ†é—¨æ§›: 400åˆ†                                  â”‚
â”‚                                                         â”‚
â”‚ å¼€å§‹æ—¶é—´: 2025-08-03 20:00 (UTC+8)                     â”‚
â”‚ ä¼˜å…ˆè·å–æˆªæ­¢: 2025-08-05 10:00 (UTC+8)                 â”‚
â”‚ å…ˆåˆ°å…ˆå¾—æˆªæ­¢: 2025-08-07 10:00 (UTC+8)                 â”‚
â”‚                                                         â”‚
â”‚ ä¼˜å…ˆè·å–å€’è®¡æ—¶: 2å¤©3å°æ—¶15åˆ†é’Ÿ                           â”‚
â”‚                                                         â”‚
â”‚ è¿›åº¦æ¡: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“â–“â–“ (50%)                         â”‚
â”‚        ä¼˜å…ˆè·å– (200åˆ†)    å…ˆåˆ°å…ˆå¾— (400åˆ†)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å†å²æ•°æ®è¡¨æ ¼è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æ•°æ®è¡¨æ ¼                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¡ æç¤ºï¼šä¸¤é˜¶æ®µç©ºæŠ•æ•°æ®ä¼šæ˜¾ç¤º"ä¼˜å…ˆè·å–"å’Œ"å…ˆåˆ°å…ˆå¾—"é—¨æ§›   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç©ºæŠ•æ—¥æœŸ  â”‚ ä»£å¸åç§°â”‚ ç§¯åˆ†é—¨æ§›    â”‚ æ•°é‡    â”‚ ä»·æ ¼  â”‚æ”¶ç›Š â”‚ç±»å‹â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025å¹´08æœˆâ”‚   MM   â”‚ 200åˆ†       â”‚ 24,000  â”‚$0.001 â”‚$24.0â”‚Alphaâ”‚
â”‚ 03æ—¥      â”‚        â”‚ 1,234äºº     â”‚ +0      â”‚       â”‚     â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025å¹´08æœˆâ”‚   AIO  â”‚ 200/400åˆ†   â”‚ 750     â”‚$0.045 â”‚$33.8â”‚Alphaâ”‚
â”‚ 02æ—¥      â”‚ğŸå…è´¹é¢†å–â”‚ 2,156äºº     â”‚ +0      â”‚       â”‚     â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. å†å²æ›²çº¿å›¾è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ˆ å†å²æ›²çº¿                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç§¯åˆ†é—¨æ§›è¶‹åŠ¿ (å¹³å‡çº¿: 245åˆ†)                             â”‚
â”‚ 400 â”¤                                                   â”‚
â”‚ 350 â”¤     â—                                             â”‚
â”‚ 300 â”¤       â—                                           â”‚
â”‚ 250 â”¤ â—       â—     â—                                   â”‚
â”‚ 200 â”¤   â—       â—     â—   â—                             â”‚
â”‚ 150 â”¤                       â—                           â”‚
â”‚     â””â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€  â”‚
â”‚      4æœˆ 5æœˆ 6æœˆ 7æœˆ 8æœˆ                                â”‚
â”‚                                                         â”‚
â”‚ å•å·æ”¶ç›Šè¶‹åŠ¿ (å¹³å‡çº¿: $28.5)                            â”‚
â”‚ $50 â”¤                                                   â”‚
â”‚ $40 â”¤       â—                                           â”‚
â”‚ $30 â”¤ â—       â—     â—   â—                               â”‚
â”‚ $20 â”¤   â—       â—     â—                                 â”‚
â”‚ $10 â”¤                       â—                           â”‚
â”‚     â””â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€  â”‚
â”‚      4æœˆ 5æœˆ 6æœˆ 7æœˆ 8æœˆ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. å“åº”å¼è®¾è®¡

**æ¡Œé¢ç«¯ (â‰¥1024px)**:
- å®Œæ•´çš„è¡¨æ ¼å’Œå›¾è¡¨æ˜¾ç¤º
- å½“å‰ç©ºæŠ•å¡ç‰‡é‡‡ç”¨ç½‘æ ¼å¸ƒå±€
- å›¾è¡¨æ˜¾ç¤ºå®Œæ•´çš„æ•°æ®ç‚¹å’Œæ ‡ç­¾

**å¹³æ¿ç«¯ (768px-1023px)**:
- è¡¨æ ¼æ”¯æŒæ¨ªå‘æ»šåŠ¨
- å½“å‰ç©ºæŠ•å¡ç‰‡å †å æ˜¾ç¤º
- å›¾è¡¨é€‚é…ä¸­ç­‰å±å¹•å°ºå¯¸

**æ‰‹æœºç«¯ (<768px)**:
- è¡¨æ ¼é‡‡ç”¨å¡ç‰‡å¼å¸ƒå±€
- å½“å‰ç©ºæŠ•ä¿¡æ¯å‚ç›´å †å 
- å›¾è¡¨ç®€åŒ–æ˜¾ç¤ºï¼Œæ”¯æŒè§¦æ‘¸äº¤äº’

## é”™è¯¯å¤„ç†å’Œç”¨æˆ·ä½“éªŒ

### 1. é”™è¯¯å¤„ç†ç­–ç•¥

```typescript
enum ErrorType {
  VALIDATION_ERROR = 'validation_error',
  NETWORK_ERROR = 'network_error',
  PERMISSION_ERROR = 'permission_error',
  CONFLICT_ERROR = 'conflict_error',
  SERVER_ERROR = 'server_error'
}

interface ErrorHandler {
  handleError(error: Error, type: ErrorType): void
  showUserFriendlyMessage(error: Error): string
  logError(error: Error, context: string): void
}
```

### 2. åŠ è½½çŠ¶æ€ç®¡ç†

```typescript
interface LoadingState {
  isLoading: boolean
  loadingMessage?: string
  progress?: number
}

// ä¸åŒæ“ä½œçš„åŠ è½½çŠ¶æ€
const loadingStates = {
  checkingToken: "æ£€æŸ¥ä»£å¸ä¿¡æ¯...",
  saving: "ä¿å­˜ä¸­...",
  loading: "åŠ è½½æ•°æ®...",
  deleting: "åˆ é™¤ä¸­..."
}
```

### 3. ç”¨æˆ·åé¦ˆæœºåˆ¶

- **æˆåŠŸæ“ä½œ**: Toast é€šçŸ¥ + è‡ªåŠ¨å…³é—­æ¨¡æ€æ¡†
- **é”™è¯¯æ“ä½œ**: é”™è¯¯æç¤º + ä¿æŒæ¨¡æ€æ¡†å¼€å¯
- **éªŒè¯é”™è¯¯**: å®æ—¶å­—æ®µéªŒè¯ + é”™è¯¯é«˜äº®
- **ç½‘ç»œé”™è¯¯**: é‡è¯•æœºåˆ¶ + ç¦»çº¿æç¤º

## æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åŠ è½½ä¼˜åŒ–

- **åˆ†é¡µåŠ è½½**: å¤§é‡æ•°æ®æ—¶é‡‡ç”¨åˆ†é¡µ
- **è™šæ‹Ÿæ»šåŠ¨**: è¡¨æ ¼æ•°æ®è¿‡å¤šæ—¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- **ç¼“å­˜ç­–ç•¥**: ä½¿ç”¨ SWR æˆ– React Query ç¼“å­˜æ•°æ®

### 2. ç»„ä»¶ä¼˜åŒ–

- **æ‡’åŠ è½½**: æ¨¡æ€æ¡†ç»„ä»¶æŒ‰éœ€åŠ è½½
- **é˜²æŠ–å¤„ç†**: Token æ£€æŸ¥æ¥å£é˜²æŠ–
- **Memo ä¼˜åŒ–**: è¡¨æ ¼è¡Œç»„ä»¶ä½¿ç”¨ React.memo

### 3. ç½‘ç»œä¼˜åŒ–

- **è¯·æ±‚åˆå¹¶**: æ‰¹é‡æ“ä½œæ—¶åˆå¹¶è¯·æ±‚
- **ä¹è§‚æ›´æ–°**: UI å…ˆæ›´æ–°ï¼ŒååŒæ­¥æœåŠ¡å™¨
- **é”™è¯¯é‡è¯•**: ç½‘ç»œé”™è¯¯æ—¶è‡ªåŠ¨é‡è¯•

## å®‰å…¨æ€§è®¾è®¡

### 1. æƒé™éªŒè¯

```typescript
// ä¸­é—´ä»¶éªŒè¯
export function withAdminAuth(handler: NextApiHandler) {
  return async (req: NextApiRequest, res: NextApiResponse) => {
    const isAdmin = await verifyAdminPermission(req)
    if (!isAdmin) {
      return res.status(403).json({ error: 'Permission denied' })
    }
    return handler(req, res)
  }
}
```

### 2. æ•°æ®éªŒè¯

- **è¾“å…¥éªŒè¯**: æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½é€šè¿‡ Zod éªŒè¯
- **SQL æ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨ Prisma ORM é˜²æ­¢ SQL æ³¨å…¥
- **XSS é˜²æŠ¤**: å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰å¤„ç†

### 3. æ“ä½œæ—¥å¿—

```typescript
interface AuditLog {
  userId: string
  action: 'create' | 'update' | 'delete'
  resource: 'airdrop'
  resourceId: string
  changes: Record<string, any>
  timestamp: Date
  ipAddress: string
}
```

## æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•

- ç»„ä»¶æ¸²æŸ“æµ‹è¯•
- è¡¨å•éªŒè¯é€»è¾‘æµ‹è¯•
- API è·¯ç”±å¤„ç†æµ‹è¯•
- å·¥å…·å‡½æ•°æµ‹è¯•

### 2. é›†æˆæµ‹è¯•

- å®Œæ•´çš„ CRUD æ“ä½œæµç¨‹æµ‹è¯•
- æƒé™éªŒè¯é›†æˆæµ‹è¯•
- æ•°æ®åº“æ“ä½œé›†æˆæµ‹è¯•

### 3. E2E æµ‹è¯•

- ç”¨æˆ·å®Œæ•´æ“ä½œæµç¨‹æµ‹è¯•
- ä¸åŒè®¾å¤‡å’Œæµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
- é”™è¯¯åœºæ™¯å¤„ç†æµ‹è¯•

## éƒ¨ç½²å’Œç›‘æ§

### 1. éƒ¨ç½²é…ç½®

- **ç¯å¢ƒå˜é‡**: æ•°æ®åº“è¿æ¥ã€ç®¡ç†å‘˜å¯†ç ç­‰
- **æ•°æ®åº“è¿ç§»**: Prisma è¿ç§»è„šæœ¬
- **é™æ€èµ„æº**: Next.js é™æ€èµ„æºä¼˜åŒ–

### 2. ç›‘æ§æŒ‡æ ‡

- **æ€§èƒ½ç›‘æ§**: é¡µé¢åŠ è½½æ—¶é—´ã€API å“åº”æ—¶é—´
- **é”™è¯¯ç›‘æ§**: é”™è¯¯ç‡ã€é”™è¯¯ç±»å‹ç»Ÿè®¡
- **ç”¨æˆ·è¡Œä¸º**: æ“ä½œé¢‘ç‡ã€åŠŸèƒ½ä½¿ç”¨æƒ…å†µ

### 3. æ—¥å¿—è®°å½•

- **æ“ä½œæ—¥å¿—**: æ‰€æœ‰æ•°æ®ä¿®æ”¹æ“ä½œ
- **é”™è¯¯æ—¥å¿—**: ç³»ç»Ÿé”™è¯¯å’Œå¼‚å¸¸
- **æ€§èƒ½æ—¥å¿—**: æ…¢æŸ¥è¯¢å’Œæ€§èƒ½ç“¶é¢ˆ

## æ€»ç»“

æœ¬è®¾è®¡æ–‡æ¡£æä¾›äº†ç©ºæŠ•æ•°æ®ç®¡ç†åŠŸèƒ½çš„å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆï¼Œæ¶µç›–äº†æ¶æ„è®¾è®¡ã€ç»„ä»¶è®¾è®¡ã€API è®¾è®¡ã€çŠ¶æ€ç®¡ç†ã€ç”¨æˆ·ç•Œé¢ã€é”™è¯¯å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ€§å’Œæµ‹è¯•ç­‰å„ä¸ªæ–¹é¢ã€‚

è¯¥è®¾è®¡ç¡®ä¿äº†ï¼š
- **åŠŸèƒ½å®Œæ•´æ€§**: æ»¡è¶³æ‰€æœ‰éœ€æ±‚è§„æ ¼
- **æŠ€æœ¯å¯è¡Œæ€§**: åŸºäºç°æœ‰æŠ€æœ¯æ ˆå®ç°
- **ç”¨æˆ·ä½“éªŒ**: æä¾›ç›´è§‚å‹å¥½çš„æ“ä½œç•Œé¢
- **ç³»ç»Ÿç¨³å®šæ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæµ‹è¯•è¦†ç›–
- **å®‰å…¨æ€§**: å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤æªæ–½
- **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ–‡æ¡£